<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta content="text/html;charset=UTF-8"/>
    <title>资源分享网-后台管理</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta http-equiv ="Pragma" content = "no-cache"/>
    <meta http-equiv="Cache-Control" content="no cache" />
    <meta http-equiv="Expires" content="0" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="format-detection" content="telephone=no"/>
    <script src="/static/fsLayui/scripts/pace.min.js"></script>
    <link href="/static/fsLayui/css/pace-theme-flash.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="/static/fsLayui/plugins/layui/css/layui.css" media="all"/>
    <script type="text/javascript" src="/static/fsLayui/plugins/jquery/jquery.min.js"></script>
    <link href="/static/fsLayui/plugins/contextMenu/jquery.contextMenu.min.css" rel="stylesheet" />
    <script src="/static/fsLayui/plugins/contextMenu/jquery.contextMenu.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/fsLayui/css/fs.css?v=1.8.2" media="all"/>
    <script type="text/javascript" src="/static/fsLayui/plugins/layui/layui.js"></script>
    <script type="text/javascript" src="/static/fsLayui/plugins/frame/js/fsDict.js?v=1.8.2"></script>
    <script type="text/javascript" src="/static/fsLayui/plugins/frame/js/fs.js?v=1.8.2"></script>
    <script type="text/javascript" src="/static/fsLayui/plugins/frame/js/main.js?v=1.8.2"></script>
    <script type="text/javascript" src="/static/echarts/echarts.min.js"></script>
    <style type="text/css">
        .ht-box{
            display: inline-block;
            margin: 15px;
            padding: 15px 0;
            color: #fff;
            width: 12%;
        }
        .ht-box p:first-child{
            font-size: 40px;
        }
    </style>
</head>
<body>
    <div class="layui-tab-content">
        <div class="layui-tab-item layui-show" style="text-align: center;">
            <fieldset class="layui-elem-field layui-field-title layui-content">
                <legend>统计信息</legend>
            </fieldset>
            <div class="layui-field-box">
                <div style="display: inline-block;width: 100%;">

                    <div>
                        <div id="main1" style="width: 600px;height:400px;display:inline-block">
                        </div>
                        <div id="main2" style="width: 600px;height:400px;display:inline-block">
                        </div>
                    </div>


<!--                    <div class="ht-box layui-bg-blue">-->
<!--                        <p th:text="${userNum}"></p>-->
<!--                        <p>用户总数</p>-->
<!--                    </div>-->
<!--                    <div class="ht-box layui-bg-red">-->
<!--                        <p th:text="${todayRegister}"></p>-->
<!--                        <p>今日注册</p>-->
<!--                    </div>-->
<!--                    <div class="ht-box layui-bg-green">-->
<!--                        <p th:text="${todayLogin}"></p>-->
<!--                        <p>今日登录</p>-->
<!--                    </div>-->
<!--                    <div class="ht-box layui-bg-orange">-->
<!--                        <p th:text="${todayPublish}"></p>-->
<!--                        <p>今日发布资源</p>-->
<!--                    </div>-->
<!--                    <div class="ht-box layui-bg-black">-->
<!--                        <p th:text="${noAudit}"></p>-->
<!--                        <p>未审核资源</p>-->
<!--                    </div>-->
<!--                    -->


                </div>
            </div>
        </div>
    </div>




    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart1 = echarts.init(document.getElementById('main1'));
        // 指定图表的配置项和数据
        var option1 = {
            title: {
                text: '系统用户总数'
            },
            legend:{
                data:['用户数']
            },
            xAxis: {
                type: 'category',
                data: []
            },
            yAxis: {
                type: 'value'
            },
            series: [{
                name: '用户数',
                data: [],
                type: 'line'
            }]
        };
        // 异步加载数据
        $.get('/getUserNums').done(function (data) {
            // 填入数据
            myChart1.setOption({
                xAxis: {
                    data: data.categories //横坐标的日期
                },
                series: [{
                    name: '用户数',// 根据名字对应到相应的系列
                    data: data.data //横坐标日期对应的每日登陆用户数
                }]
            });
        });
        // 使用刚指定的配置项和数据显示图表。
        myChart1.setOption(option1);
    </script>

    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main2'));

        // 指定图表的配置项和数据
        var option = {
            title: {
                text: '每日活跃用户数'
            },
            tooltip: {},
            legend: {
                data:['用户数']
            },
            xAxis: {
                data: []
            },
            yAxis: {},
            series: [{
                name: '用户数',
                type: 'bar',
                data: []
            }]
        };
        // 异步加载数据
        $.get('/getUserLogin').done(function (data) {//如果get('data.json')执行成功，则继续执行done；否则不执行done
            // 填入数据
            myChart.setOption({
                xAxis: {
                    data: data.categories //横坐标的日期
                },
                series: [{
                    // 根据名字对应到相应的系列
                    name: '用户数',
                    data: data.data //横坐标日期对应的每日登陆用户数
                }]
            });
        });
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>


</body>
</html>